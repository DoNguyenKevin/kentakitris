@import"https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap";body{font-family:"Press Start 2P",monospace;background-color:#1a1a2e;color:#fff;display:flex;justify-content:center;align-items:center;min-height:100vh;padding:10px;overflow-x:hidden;box-sizing:border-box;margin:0}*{box-sizing:border-box}.pixel-border{border:4px solid #f9f9f9;box-shadow:-4px -4px #4a4e69,4px 4px #bbd0ff,-8px -8px #2c314c inset,8px 8px #3f425b inset;background-color:#2c314c}.board-container{width:min(320px,40vw,calc(100vh - 40px) / 2);height:min(640px,80vh,calc(100vh - 40px));margin-right:20px;position:relative;flex-shrink:0}.info-panel{max-width:min(300px,30vw);flex-shrink:1}#status-message{font-size:clamp(.75rem,1.8vw,1.25rem)}#score-display,#level-display{font-size:clamp(1rem,2vw,1.5rem)}.pixel-border h2{font-size:clamp(.75rem,1.5vw,1rem)}#leaderboard-list{font-size:clamp(.6rem,1.2vw,.85rem)}#user-id-display{font-size:clamp(.55rem,1vw,.75rem)}#game-board{display:grid;grid-template-rows:repeat(20,1fr);grid-template-columns:repeat(10,1fr);background-color:#0d0d1a;width:100%;height:100%;border:none;box-shadow:none}.block{aspect-ratio:1 / 1;background-color:#333;border:1px solid #1a1a2e;box-sizing:border-box;box-shadow:1px 1px #00000080 inset,-1px -1px #ffffff4d inset}.color-1{background-color:#ff0d72}.color-2{background-color:#0dc2ff}.color-3{background-color:#0dff72}.color-4{background-color:#ff8e0d}.color-5{background-color:#ffe100}.color-6{background-color:#ff1a0d}.color-7{background-color:#5833ff}.touch-button{background-color:#4a4e69;color:#fff;padding:clamp(.5rem,2vw,1rem);border:3px solid #f9f9f9;box-shadow:-3px -3px #1a1a2e,3px 3px #bbd0ff;transition:all .05s ease;font-size:clamp(.7rem,1.5vw,1rem)}.touch-button:active{box-shadow:0 0 #1a1a2e,0 0 #bbd0ff;transform:translate(3px,3px)}.score-particle{position:absolute;pointer-events:none;font-size:clamp(.85rem,2vw,1.5rem);font-weight:700;color:#ffe100;text-shadow:2px 2px 0px rgba(0,0,0,.8),-1px -1px 0px rgba(255,255,255,.3),0 0 10px rgba(255,225,0,.8),0 0 20px rgba(255,225,0,.5);z-index:1000;animation:particleFly 1.2s cubic-bezier(.25,.46,.45,.94) forwards;filter:drop-shadow(0 0 8px rgba(255,225,0,.8))}@keyframes particleFly{0%{opacity:1;transform:translate(0) scale(.3) rotate(0)}30%{opacity:1;transform:translate(calc(var(--tx) * .5),calc(var(--ty) * .5)) scale(1.3) rotate(180deg)}60%{opacity:.9;transform:translate(var(--tx),var(--ty)) scale(1.1) rotate(360deg)}to{opacity:0;transform:translate(calc(var(--tx) * 1.5),calc(var(--ty) * 1.8)) scale(.5) rotate(540deg)}}.line-clear-flash{background-color:#fff!important;animation:flashLine .3s ease-in-out;box-shadow:0 0 10px #fff,0 0 20px #fff,inset 0 0 10px #fff!important}@keyframes flashLine{0%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.05)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){body{flex-direction:column;align-items:center;padding:5px}.board-container{margin-right:0;margin-bottom:15px;width:min(95vw,400px);height:min(85vh,190vw,800px)}.info-panel{width:100%;max-width:min(95vw,400px)}#touch-controls{margin-top:15px;width:100%;max-width:min(95vw,400px)}.score-particle{font-size:1rem}.pixel-border{border:3px solid #f9f9f9;padding:8px}}@media (max-width: 480px){body{padding:5px}.board-container{width:min(95vw,320px);height:min(80vh,190vw,640px)}.info-panel{max-width:95vw;gap:12px}.touch-button{padding:.75rem;font-size:.9rem}.score-particle{font-size:.85rem}#status-message{font-size:.75rem}}@media (min-width: 769px) and (max-width: 1024px){.board-container{width:min(380px,45vw);height:min(760px,85vh)}.info-panel{max-width:min(320px,35vw)}}@media (min-width: 1025px) and (max-width: 1440px){.board-container{width:min(420px,40vw);height:min(840px,85vh)}.info-panel{max-width:min(340px,30vw)}}@media (min-width: 1441px){.board-container{width:min(500px,40vw);height:min(1000px,85vh)}.info-panel{max-width:min(380px,28vw)}}@media (orientation: portrait) and (min-width: 481px){body{flex-direction:column}.board-container{margin-right:0;margin-bottom:15px;width:min(85vw,450px);height:min(75vh,170vw,900px)}.info-panel{max-width:85vw}}@media (orientation: landscape) and (max-height: 700px){body{padding:5px;align-items:flex-start;flex-direction:row}.board-container{width:auto;height:min(90vh,650px);aspect-ratio:1 / 2;margin-right:15px}.info-panel{max-width:min(40vw,280px);overflow-y:auto;max-height:90vh}#touch-controls{display:none!important}}@media (orientation: landscape) and (max-height: 500px){.board-container{height:85vh}.info-panel{font-size:.85rem;gap:8px}.pixel-border{padding:6px;border:2px solid #f9f9f9}}#game-board>.block:nth-child(-n+20){visibility:hidden}.current-piece-cell{visibility:visible!important}@media (min-aspect-ratio: 21/9){body{max-width:1800px;margin:0 auto}}@media (max-width: 360px){body{font-size:.8rem}.board-container{width:98vw;height:min(75vh,196vw)}.pixel-border{border:2px solid #f9f9f9;padding:4px}.touch-button{padding:.5rem;font-size:.7rem;border:2px solid #f9f9f9}}@supports (aspect-ratio: 1 / 2){.board-container{aspect-ratio:1 / 2}}#name-modal{z-index:9999;animation:fadeIn .3s ease-in-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}#name-modal .pixel-border{animation:slideUp .3s ease-out}@keyframes slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}#player-name-input{font-family:"Press Start 2P",monospace}#player-name-input:focus{border-color:#ffd60a;box-shadow:0 0 0 2px #ffd60a4d}#save-score-btn,#skip-save-btn{font-family:"Press Start 2P",monospace;border:3px solid #000;transition:transform .1s,box-shadow .1s}#save-score-btn:hover:not(:disabled),#skip-save-btn:hover{transform:translateY(-2px);box-shadow:0 4px #000}#save-score-btn:active:not(:disabled),#skip-save-btn:active{transform:translateY(0);box-shadow:0 0 #000}#save-score-btn:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 640px){#name-modal .pixel-border{font-size:.7rem}#modal-score{font-size:2rem!important}#player-name-input{font-size:.8rem}#save-score-btn,#skip-save-btn{font-size:.7rem;padding:.6rem}}#powerup-modal .pixel-border{max-width:800px;min-height:400px}#powerup-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem;margin:1.5rem 0}.powerup-card{background:linear-gradient(135deg,#2c314c,#1a1a2e);border:3px solid #4a4e69;border-radius:8px;padding:1.5rem;cursor:pointer;transition:all .2s ease;position:relative;overflow:hidden;box-shadow:0 4px 6px #0000004d}.powerup-card:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .5s ease}.powerup-card:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 8px 16px #00000080;border-color:#fff}.powerup-card:hover:before{left:100%}.powerup-card:active{transform:translateY(-2px) scale(.98)}.powerup-card[data-rarity=common]{border-color:#9ca3af}.powerup-card[data-rarity=common]:hover{border-color:#d1d5db;box-shadow:0 8px 16px #9ca3af66}.powerup-card[data-rarity=uncommon]{border-color:#10b981}.powerup-card[data-rarity=uncommon]:hover{border-color:#34d399;box-shadow:0 8px 16px #10b98180}.powerup-card[data-rarity=rare]{border-color:#3b82f6}.powerup-card[data-rarity=rare]:hover{border-color:#60a5fa;box-shadow:0 8px 16px #3b82f699}.powerup-card[data-rarity=legendary]{border-color:#f59e0b;background:linear-gradient(135deg,#451a03,#78350f);animation:legendary-glow 2s ease-in-out infinite}.powerup-card[data-rarity=legendary]:hover{border-color:#fbbf24;box-shadow:0 8px 24px #f59e0bb3}@keyframes legendary-glow{0%,to{box-shadow:0 4px 6px #f59e0b4d}50%{box-shadow:0 4px 16px #f59e0b99}}.powerup-name{font-size:.9rem;font-weight:700;margin-bottom:.5rem;color:#fff;text-transform:uppercase;letter-spacing:1px}.powerup-card[data-rarity=legendary] .powerup-name{color:#fbbf24;text-shadow:0 0 10px rgba(251,191,36,.5)}.powerup-card[data-rarity=rare] .powerup-name{color:#60a5fa}.powerup-card[data-rarity=uncommon] .powerup-name{color:#34d399}.powerup-badges{display:flex;gap:.5rem;margin-bottom:.75rem;flex-wrap:wrap}.powerup-type,.powerup-rarity{font-size:.6rem;padding:.25rem .5rem;border-radius:4px;text-transform:uppercase;font-weight:700}.powerup-type{background-color:#4a4e69;color:#bbd0ff}.powerup-rarity{background-color:#1a1a2e}.powerup-rarity[data-rarity=common]{color:#9ca3af}.powerup-rarity[data-rarity=uncommon]{color:#10b981}.powerup-rarity[data-rarity=rare]{color:#3b82f6}.powerup-rarity[data-rarity=legendary]{color:#f59e0b}.powerup-description{font-size:.65rem;line-height:1.4;color:#bbd0ff;margin-bottom:.75rem}.powerup-duration{font-size:.6rem;color:#f9f9f9;background-color:#4a4e6980;padding:.25rem .5rem;border-radius:4px;display:inline-block;margin-top:.5rem}#active-powerups-display{position:fixed;top:20px;right:20px;max-width:300px;z-index:1000;pointer-events:none}.active-powerup{background-color:#2c314cf2;border:2px solid #4a4e69;border-radius:6px;padding:.75rem;margin-bottom:.5rem;box-shadow:0 4px 8px #00000080;animation:slideInRight .3s ease}@keyframes slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.active-powerup-name{font-size:.7rem;font-weight:700;color:#fff;margin-bottom:.25rem}.active-powerup-timer{font-size:.6rem;color:#bbd0ff}@media (max-width: 768px){#powerup-cards{grid-template-columns:1fr;gap:1rem}.powerup-card{padding:1rem}.powerup-name{font-size:.75rem}.powerup-description{font-size:.6rem}#active-powerups-display{top:10px;right:10px;max-width:200px}.active-powerup{padding:.5rem}.active-powerup-name{font-size:.6rem}}@media (max-width: 480px){#powerup-modal .pixel-border{padding:1rem;font-size:.7rem}#powerup-cards{gap:.75rem}.powerup-name{font-size:.7rem}.powerup-description{font-size:.55rem}}
